FROM node:20

WORKDIR /app

# install pnpm
RUN npm install -g pnpm

# install deps
COPY package*.json pnpm-lock.yaml* ./
RUN pnpm install

COPY src ./src

CMD ["npx", "tsx", "src/listener.ts"]